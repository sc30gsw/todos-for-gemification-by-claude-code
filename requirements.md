# タスク管理アプリ要件定義書

## 概要
Trelloライクなタスク管理アプリにゲーミフィケーション要素を組み込んだWebアプリケーション。タスク完了によってポイントを獲得し、サイコロによる報酬システムでユーザーのモチベーションを向上させる。

## 機能要件

### 1. タスク管理機能

#### 1.1 タスクボード
- **カンバン形式**のタスクボード（Todo、In Progress、Done）
- ドラッグ&ドロップでタスクの状態変更
- カテゴリ別のレーン表示（オプション）

#### 1.2 タスク作成・編集
- タスクタイトル（必須）
- タスク詳細説明（任意）
- **重要度**：低・中・高の3段階
- **緊急度**：低・中・高の3段階
- 期限設定（任意）
- カテゴリ/ラベル（任意）

#### 1.3 タスクの重要度・緊急度マトリックス
- アイゼンハワーマトリックスに基づく分類
- 重要度×緊急度の組み合わせで視覚的に表示
- フィルタリング機能

### 2. ゲーミフィケーション機能

#### 2.1 ポイントシステム
- **基本ポイント**：タスク完了時にランダムで1-3ポイント獲得
- **重要度ボーナス**：
  - 低重要度：×1倍
  - 中重要度：×1.5倍
  - 高重要度：×2倍
- **緊急度ボーナス**：サイコロの出目に影響
- **累計ポイント**の表示

#### 2.2 サイコロシステム
- **発動条件**：5ポイント消費で1回サイコロを振れる
- **サイコロの仕様**：
  - 基本：6面サイコロ（1-6）
  - 緊急度による出目調整：
    - 低緊急度：出目そのまま
    - 中緊急度：出目+1（最大7）
    - 高緊急度：出目+2（最大8）
- **報酬システム**：出目に応じた報酬（経験値、バッジ、特別効果など）

#### 2.3 プレイヤー情報
- **レベルシステム**：経験値による段階的成長
- **バッジ/アチーブメント**システム
- **統計情報**：完了タスク数、獲得ポイント、サイコロ使用回数など

### 3. ユーザーインターフェース

#### 3.1 メイン画面
- タスクボード（カンバン形式）
- 現在のポイント表示
- サイコロボタン（5ポイント以上で有効化）
- プレイヤー情報エリア

#### 3.2 タスク詳細画面
- タスク情報の表示・編集
- 重要度・緊急度の設定UI
- 完了ボタン

#### 3.3 統計画面
- ポイント獲得履歴
- タスク完了統計
- アチーブメント一覧

## 技術要件

### フロントエンド
- Next.js 15 (App Router)
- React 19
- TypeScript
- Tailwind CSS 4
- React DnD（ドラッグ&ドロップ）

### データ管理
- ローカルストレージ（初期実装）
- 将来的にはデータベース（SQLite/PostgreSQL）

### 状態管理
- React Context API / Zustand

## データモデル

### Task
```typescript
interface Task {
  id: string
  title: string
  description?: string
  importance: 'low' | 'medium' | 'high'
  urgency: 'low' | 'medium' | 'high'
  status: 'todo' | 'in_progress' | 'done'
  dueDate?: Date
  category?: string
  createdAt: Date
  completedAt?: Date
  pointsEarned?: number
}
```

### Player
```typescript
interface Player {
  id: string
  name: string
  currentPoints: number
  totalPoints: number
  level: number
  experience: number
  badges: Badge[]
  stats: PlayerStats
}
```

### PlayerStats
```typescript
interface PlayerStats {
  tasksCompleted: number
  diceRolls: number
  totalPointsEarned: number
  highestDiceRoll: number
  streakDays: number
}
```

## ゲームバランス

### ポイント設定
- 基本ポイント：1-3（ランダム）
- 重要度倍率：低(×1)、中(×1.5)、高(×2)
- 平均獲得ポイント/タスク：約2-6ポイント

### サイコロ経済
- コスト：5ポイント/回
- 期待リターン：経験値、バッジ進捗
- 頻度：2-3タスク完了で1回程度

### レベルシステム
- レベル1→2：100XP
- レベル2→3：200XP
- レベルn→n+1：n×100XP（累積）

## 実装優先度

### Phase 1（MVP）
1. 基本的なタスクCRUD機能
2. カンバンボード表示
3. 重要度・緊急度設定
4. 基本ポイントシステム
5. サイコロ機能

### Phase 2（拡張）
1. ドラッグ&ドロップ機能
2. レベル・経験値システム
3. バッジシステム
4. 統計画面

### Phase 3（高度機能）
1. データ永続化
2. 複数ボード対応
3. カテゴリ/フィルター機能
4. エクスポート機能

## 非機能要件

### パフォーマンス
- 初回ロード時間：3秒以内
- インタラクション応答時間：200ms以内

### ユーザビリティ
- レスポンシブデザイン（モバイル対応）
- 直感的なUI/UX
- アクセシビリティ対応（WCAG 2.1 AA準拠）

### 拡張性
- コンポーネントベース設計
- 型安全性（TypeScript）
- テスタブルな設計